function isRetina(){return window.devicePixelRatio>1||!(!window.matchMedia||!window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),            (min--moz-device-pixel-ratio: 1.5),            (-o-min-device-pixel-ratio: 3/2),            (min-resolution: 1.5dppx)").matches)}function bgImage(e){$(e).each(function(){$el=$(this),($el.is(".cover")||$el.is(".contain"))&&$el.css({backgroundImage:function(){var e=$(this).find(">img");return isRetina&&""!=e.attr("srcset")?"url("+$(this).find(">img").attr("srcset")+")":"url("+$(this).find(">img").attr("src")+")"},backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:function(){return Value="",$el.is(".cover")?Value="cover":$el.is(".contain")&&(Value="contain"),Value}}).addClass("is-loaded").find(">img").hide()})}$(document).ready(function(){function e(){svg4everybody(),window.viewportUnitsBuggyfill.init({force:!1,refreshDebounceWait:150,appendToBody:!0})}function i(){Modernizr.mq("(max-width: "+l+"px)")&&($(".main_user").hasClass("is-active")?($("body").removeClass("is-overflow"),$(".header__top").removeClass("is-active"),$(".main_user").removeClass("is-active")):($("body").addClass("is-overflow"),$(".header__top").addClass("is-active"),$(".main_user").addClass("is-active")))}function a(){new Swiper(".main_slideshow .swiper-container",{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!1,watchOverflow:!0,setWrapperSize:!1,spaceBetween:0,slidesPerView:1,autoHeight:!0,normalizeSlideIndex:!0,pagination:{el:".main_slideshow .swiper-pagination",type:"bullets",clickable:!0}}),new Swiper(".sidebar__banner_slideshow .swiper-container",{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!1,watchOverflow:!0,setWrapperSize:!1,spaceBetween:0,slidesPerView:1,autoHeight:!0,normalizeSlideIndex:!0,pagination:{el:".sidebar__banner_slideshow .swiper-pagination",type:"bullets",clickable:!0}}),new Swiper(".user__achievements .swiper-container",{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!0,watchOverflow:!0,setWrapperSize:!1,spaceBetween:0,slidesPerView:3,autoHeight:!0,normalizeSlideIndex:!0,autoplay:{delay:3e3},navigation:{nextEl:".user__achievements .swiper-next",prevEl:".user__achievements .swiper-prev"}})}function t(){$("[js-dateMask]").mask("99.99.99",{placeholder:"ДД.ММ.ГГ"}),$("input[type='tel']").mask("+7 (000) 000-0000",{placeholder:"+7 (___) ___-____"})}function r(){$("select").selectric({maxHeight:300,arrowButtonMarkup:'<b class="button"><svg class="ico ico-select-down"><use xlink:href="img/sprite.svg#ico-select-down"></use></svg></b>',onInit:function(e,i){var a=$(e);a.closest("."+i.classes.wrapper).find(".label").html(a.attr("placeholder"))},onBeforeOpen:function(e,i){var a=$(e),t=a.closest("."+i.classes.wrapper);t.find(".label").data("value",t.find(".label").html()).html(a.attr("placeholder"))},onBeforeClose:function(e,i){var a=$(e).closest("."+i.classes.wrapper);a.find(".label").html(a.find(".label").data("value"))}})}function s(){var e={required:!0,normalizer:function(e){return e&&"+X (XXX) XXX-XXXX"!==e?e.replace(/[^\d]/g,""):e},minlength:11,digits:!0};$(".js-registration-form").validate({errorPlacement:function(e,i){e.addClass("ui-input__validation"),e.appendTo(i.parent("div"))},highlight:function(e){$(e).parent("div").addClass("has-error")},unhighlight:function(e){$(e).parent("div").removeClass("has-error")},submitHandler:function(e){$(e).addClass("loading"),$.ajax({type:"POST",url:$(e).attr("action"),data:$(e).serialize(),success:function(i){$(e).removeClass("loading");var a=$.parseJSON(i);"success"==a.status||$(e).find("[data-error]").html(a.message).show()}})},rules:{first_name:"required",email:{required:!0,email:!0},password:{required:!0,minlength:6},phone:e},messages:{first_name:"Заполните это поле",email:{required:"Заполните это поле",email:"Email содержит неправильный формат"},password:{required:"Заполните это поле",email:"Пароль мимимум 6 символов"},phone:{required:"Заполните это поле",minlength:"Введите корректный телефон"}}})}var n=$(window),o=$(document),l=1199;e(),a(),t(),r(),s(),o.on("click",'[href="#"]',function(e){e.preventDefault()}).on("click",'a[href^="#section"]',function(){var e=$(this).attr("href");return $("body, html").animate({scrollTop:$(e).offset().top},1e3),!1}),o.on("click",".header__top__hamburger .js-hamburger",function(e){if(e.preventDefault(),Modernizr.mq("(max-width: 1499px)")){var i=$("body"),a=$(".header__top"),t=$(".main_user"),r=$(".header__menu__submenu");$(this).hasClass("is-active")?(i.removeClass("is-overflow"),t.removeClass("is-hidden"),a.removeClass("is-active"),r.removeClass("is-active")):(i.addClass("is-overflow"),t.addClass("is-hidden"),a.addClass("is-active")),$(this).toggleClass("is-active").closest(".header__top__hamburger").toggleClass("is-active"),$(".header__menu").toggleClass("is-active")}}).on("click",".header__menu__item.is-parent .header__menu__link",function(e){if(Modernizr.mq("(max-width: 767px)")){e.preventDefault();var i=$(".header__menu__submenu");i.removeClass("is-active"),$(this).next(i).addClass("is-active"),$(this).closest(".header__menu__item").find(i).find(".header__menu__link")[0]||$(this).closest(".header__menu__item").find(i).prepend($(this).clone())}else Modernizr.mq("(min-width: 768px)")&&(Modernizr.touchevents||Modernizr.pointerevents)&&(e.preventDefault(),$(this).parent(".header__menu__item").toggleClass("is-hover"))}).on("click",".main_user__head__photo, .main_user__hamburger .js-hamburger",function(e){e.preventDefault(),i()}).on("click",function(e){$(".main_user").hasClass("is-active")&&!$(e.target).closest(".main_user")[0]&&i()});var d="";Modernizr.mq("(min-width: 1200px)")?d="wide":Modernizr.mq("(min-width: 768px)")?d="tablet":Modernizr.mq("(max-width: 767px)")&&(d="mobile"),n.on("resize",function(){"wide"!=d&&Modernizr.mq("(min-width: 1200px)")?(d="wide",$(".main_user").removeClass("is-active is-hidden")):"tablet"!=d&&Modernizr.mq("(min-width: 768px)")?(d="tablet",$("body").removeClass("is-overflow"),$(".header__top, .header__menu, .header__menu__submenu, .header__top__hamburger, .header__top__hamburger .js-hamburger").removeClass("is-active")):"mobile"!=d&&Modernizr.mq("(max-width: 767px)")&&(d="mobile",$("body").removeClass("is-overflow"),$(".header__menu__item").removeClass("is-hover"),$(".header__top, .header__menu, .header__menu__submenu, .header__top__hamburger, .header__top__hamburger .js-hamburger").removeClass("is-active"))}),o.one("focus.autoExpand",".ui-group textarea",function(){var e=this.value;this.value="",this.baseScrollHeight=this.scrollHeight,this.value=e}).on("input.autoExpand",".ui-group textarea",function(){var e,i=0|this.getAttribute("data-min-rows");this.rows=i,e=Math.ceil((this.scrollHeight-this.baseScrollHeight)/17),this.rows=i+e})}),function(e){e.fn.videoPlayer=function(){var i,a=document.createElement("script"),t=document.getElementsByTagName("script")[0];a.src="https://www.youtube.com/iframe_api",t.parentNode.insertBefore(a,t),youTubeVideo=function(e,a,t){i=new YT.Player(e[0],{videoId:a,events:{onReady:youTubeVideoPlay,onStateChange:youTubeVideoState}})},youTubeVideoState=function(a){switch(a.data){case 0:e(a.target.getIframe()).next(".videoplayer_button").show(),i.destroy()}},youTubeVideoPlay=function(i){i.target.playVideo(),e(i.target.getIframe()).next(".videoplayer_button").hide()},containerBuild=function(){e(".videoplayer").each(function(){var i=e(this).data("src");e(this).attr("data-src",i).css({backgroundImage:'url("http://img.youtube.com/vi/'+i+'/0.jpg")'}).html('<div class="videoplayer_video"></div><div class="videoplayer_button"><svg id="ico-play" viewBox="0 0 60 60" width="100%" height="100%"><path d="M53.479 27.435L10.672.915C7.553-1.132 5 .374 5 4.261v51.48c0 3.885 2.553 5.391 5.672 3.346l42.807-26.52S55 31.497 55 30.001s-1.521-2.566-1.521-2.566z"></path></svg></div>')})},containerSize=function(){e(".videoplayer").each(function(){e(this).css({height:.5625*e(this).width()+"px"})})},containerBuild(),e(document).on("click",".videoplayer_button",function(i){i.preventDefault();var a=e(this).closest(".videoplayer");youTubeVideo(a.find(".videoplayer_video"),a.data("src"),a.data("width"))})}}(jQuery),$.fn.videoPlayer(),$(window).on("load",function(){bgImage(".cover, .contain")}),$(".datepicker_input").datepicker({position:"top left",inline:!1,autoClose:!0}),$(document).on("click",".datepicker_container",function(e){$(this).find(".datepicker_input").datepicker().data("datepicker").show()});